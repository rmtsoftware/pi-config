## Автозапуск скрипта

---

Чтобы ваш скрипт `app.sh` запускался при старте системы на Raspberry Pi 4B с Raspberry OS и чтобы система автоматически перезапускала его, если `main.py` перестаёт работать, вы можете использовать следующий подход с использованием `systemd` для создания службы, которая будет управлять вашим скриптом.

---

#### 1. Создание файла службы systemd
Откройте терминал и создайте новый файл конфигурации службы в директории `/etc/systemd/system/`:
```
sudo nano /etc/systemd/system/app.service
```

Вставьте следующее содержимое в файл:
```
[Unit]
Description=My App Service
After=network.target

[Service]
Type=simple
User=user
WorkingDirectory=/home/user/Project/client
ExecStart=/bin/bash /home/user/Project/client/app.sh
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```
Параметр `Restart=always` указывает `systemd` автоматически перезапускать ваше приложение, если оно завершается. `RestartSec=5` определяет задержку в 5 секунд перед перезапуском.

---

#### 2. Включение и запуск службы
Перезагрузите systemd, чтобы он прочитал ваш новый файл службы:
```
sudo systemctl daemon-reload
```

Включите службу, чтобы она автоматически запускалась при загрузке системы:
```
sudo systemctl enable app.service
```

Запустите службу:
```
sudo systemctl start app.service
```

#### 3. Проверка статуса службы
```
sudo systemctl status app.service
```
Эта команда покажет текущее состояние службы, включая её активность и последние логи.

---

#### Замечание
- Убедитесь, что ваши скрипты (`app.sh` и `main.py`) имеют права на выполнение. Это можно сделать с помощью команды `chmod +x filename`.

---

## Отключение службы

Чтобы отключить и остановить службу, которую вы создали и активировали через `systemd` на вашем Raspberry Pi с Raspberry OS, выполните следующие команды в терминале:

1. Остановка службы:
Для остановки активной службы используйте команду `systemctl stop`, указав имя вашей службы (в вашем случае `app.service`):
```
sudo systemctl stop app.service
```

Эта команда останавливает запущенную службу, но она может быть автоматически запущена снова при следующей загрузке системы.

2. Отключение службы:
Чтобы предотвратить автоматический запуск службы при загрузке системы, используйте команду `systemctl disable`:
```
sudo systemctl disable app.service
```

Эта команда удаляет символические ссылки, созданные для вашей службы в каталогах `systemd`, что предотвращает её автоматический запуск при старте системы.

---

## Дополнительные команды для управления службой

- Проверка статуса службы:
Вы можете проверить, активна ли ваша служба и работает ли она в данный момент:
```
sudo systemctl status app.service
```
Эта команда покажет текущий статус службы, включая её активность, состояние и последние сообщения журнала.


- Перезапуск службы:
Если служба уже запущена и вы хотите перезапустить её (например, после изменения конфигурации), используйте:
```
sudo systemctl restart app.service
```
